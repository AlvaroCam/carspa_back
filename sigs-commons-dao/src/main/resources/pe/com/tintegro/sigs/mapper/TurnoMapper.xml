<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="pe.com.tintegro.sigs.mapper.TurnoMapper">
	<resultMap id = "turnoResultMap" type = "pe.com.tintegro.sigs.entidad.general.Item">
		<result property = "ID" column = "id"/>
		<result property = "valor" column = "descripcion"/>
	</resultMap>
	
	<resultMap id = "insertTurnoResultMap" type = "pe.com.tintegro.sigs.entidad.general.Confirmacion">
		<result property = "id" column = "id_result"/>
		<result property = "mensaje" column = "mensaje"/>
	</resultMap>
	
	<select id = "obtenerTurnos" resultMap = "turnoResultMap">
		SELECT * FROM "Admision".fn_ad_select_turno(#{idTurno},
													#{idActividad});
	</select>
	
	<select id = "insertarTurno" resultMap = "insertTurnoResultMap">
		SELECT * FROM "Admision".fn_ad_insert_turno(#{ho_inicio},
													#{ho_final}, 
													#{idActividad});
	</select>
</mapper>